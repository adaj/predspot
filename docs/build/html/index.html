<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Predspot &#8212; Predspot 1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=c18062d5" />
    <script src="_static/documentation_options.js?v=f2a433a1"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="canonical" href="https://adaj.github.io/predspot/index.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Crime Mapping" href="modules/crime_mapping.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Predspot</a></h1>



<p class="blurb">Crime hotspot prediction using machine learning</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=adaj&repo=predspot&type=star&count=True&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules/crime_mapping.html">Crime Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/dataset_preparation.html">Dataset Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/feature_engineering.html">Feature Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/ml_modelling.html">ML Modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/pipeline.html">Pipeline</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/adaj/predspot">Project Github</a></li>
    
    <li class="toctree-l1"><a href="https://adaj.github.io/predspot/">Documentation</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="modules/crime_mapping.html" title="next chapter">Crime Mapping</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          <a href="modules/crime_mapping.html" title="Next document">Crime Mapping</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="predspot">
<h1>Predspot<a class="headerlink" href="#predspot" title="Link to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>Predspot is an early project for a Python library for spatio-temporal crime prediction and hotspot detection. It combines machine learning techniques with spatial analysis to help predict and visualize crime patterns across time and space. To properly use this library, you preferably need to have a crime dataset and a study area.</p>
<p>The results of this library are not guaranteed to be good, but it is a good starting point for spatio-temporal crime prediction. This project is barely maintained, so please if you want to collaborate, open an issue or a PR.</p>
</section>
<section id="key-features">
<h2>Key Features<a class="headerlink" href="#key-features" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Spatial and temporal crime mapping</p></li>
<li><p>Feature engineering for time series data</p></li>
<li><p>Machine learning-based prediction pipeline</p></li>
<li><p>Crime hotspot detection using Kernel Density Estimation</p></li>
<li><p>Visualization tools for crime patterns</p></li>
</ul>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading">¶</a></h2>
<p>Basic usage example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">predspot</span> <span class="kn">import</span> <span class="n">Dataset</span><span class="p">,</span> <span class="n">PredictionPipeline</span>
<span class="kn">from</span> <span class="nn">predspot.crime_mapping</span> <span class="kn">import</span> <span class="n">KDE</span><span class="p">,</span> <span class="n">create_gridpoints</span>
<span class="kn">from</span> <span class="nn">predspot.feature_engineering</span> <span class="kn">import</span> <span class="n">Seasonality</span><span class="p">,</span> <span class="n">Trend</span><span class="p">,</span> <span class="n">Diff</span>

<span class="c1"># Load and prepare data</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">Dataset</span><span class="p">(</span><span class="n">crimes_df</span><span class="p">,</span> <span class="n">study_area_gdf</span><span class="p">)</span>

<span class="c1"># Create prediction pipeline</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">PredictionPipeline</span><span class="p">(</span>
    <span class="n">mapping</span><span class="o">=</span><span class="n">KDE</span><span class="p">(</span><span class="n">tfreq</span><span class="o">=</span><span class="s1">&#39;M&#39;</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="n">create_gridpoints</span><span class="p">(</span><span class="n">study_area</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">250</span><span class="p">)),</span>
    <span class="n">fextraction</span><span class="o">=</span><span class="n">PandasFeatureUnion</span><span class="p">([</span>
        <span class="p">(</span><span class="s1">&#39;seasonal&#39;</span><span class="p">,</span> <span class="n">Seasonality</span><span class="p">(</span><span class="n">lags</span><span class="o">=</span><span class="mi">12</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;trend&#39;</span><span class="p">,</span> <span class="n">Trend</span><span class="p">(</span><span class="n">lags</span><span class="o">=</span><span class="mi">12</span><span class="p">)),</span>
        <span class="p">(</span><span class="s1">&#39;diff&#39;</span><span class="p">,</span> <span class="n">Diff</span><span class="p">(</span><span class="n">lags</span><span class="o">=</span><span class="mi">12</span><span class="p">))</span>
    <span class="p">]),</span>
    <span class="n">estimator</span><span class="o">=</span><span class="n">your_favorite_sklearn_model</span>
<span class="p">)</span>

<span class="c1"># Fit and predict</span>
<span class="n">pipeline</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="n">pipeline</span><span class="o">.</span><span class="n">predict</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Link to this heading">¶</a></h2>
<p>The library consists of four main modules:</p>
<ul class="simple">
<li><p><a class="reference internal" href="modules/dataset_preparation.html"><span class="doc">Dataset Preparation</span></a>: Module for preparing and managing crime datasets and study areas.</p></li>
<li><p><a class="reference internal" href="modules/crime_mapping.html"><span class="doc">Crime Mapping</span></a>: Module for spatial and temporal crime mapping, including KDE-based hotspot detection.</p></li>
<li><p><a class="reference internal" href="modules/feature_engineering.html"><span class="doc">Feature Engineering</span></a>: Module for time series feature engineering, including seasonality, trend, and difference features.</p></li>
<li><p><a class="reference internal" href="modules/ml_modelling.html"><span class="doc">ML Modelling</span></a>: Module that implements the prediction pipeline and model evaluation.</p></li>
</ul>
<p>And two utilities:</p>
<ul class="simple">
<li><p><a class="reference internal" href="modules/utilities.html"><span class="doc">Utilities</span></a>: Utility functions for data preparation and visualization.</p></li>
<li><p><a class="reference internal" href="modules/pipeline.html"><span class="doc">Pipeline</span></a>: Functions for the prediction pipeline.</p></li>
</ul>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">¶</a></h2>
<p>Create conda env and install requirements:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>predspot<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.8
conda<span class="w"> </span>activate<span class="w"> </span>predspot
conda<span class="w"> </span>install<span class="w"> </span>-y<span class="w"> </span>rtree<span class="w"> </span>geopandas<span class="w">  </span><span class="c1"># if doesnt work, do: `conda clean --all`</span>
pip<span class="w"> </span>install<span class="w"> </span>pandas<span class="w"> </span><span class="nv">statsmodels</span><span class="o">==</span><span class="m">0</span>.10.2<span class="w"> </span>geojsoncontour<span class="w"> </span>stldecompose<span class="w"> </span>scikit-learn<span class="w"> </span>matplotlib<span class="w"> </span>descartes
pip<span class="w"> </span>install<span class="w"> </span>.
</pre></div>
</div>
<p>Required dependencies:</p>
<ul class="simple">
<li><p>pandas</p></li>
<li><p>geopandas</p></li>
<li><p>numpy</p></li>
<li><p>scikit-learn</p></li>
<li><p>scipy</p></li>
<li><p>stldecompose</p></li>
<li><p>matplotlib</p></li>
</ul>
</section>
<section id="input-data-format">
<h2>Input Data Format<a class="headerlink" href="#input-data-format" title="Link to this heading">¶</a></h2>
<p>The crime data should be a pandas DataFrame with the following required columns:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tag</span></code>: Crime type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: Timestamp</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lon</span></code>: Longitude</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lat</span></code>: Latitude</p></li>
</ul>
<p>The study area should be a GeoDataFrame defining the geographical boundaries of interest.</p>
</section>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Link to this heading">¶</a></h2>
<p>For more information on the methods used in Predspot, please search more about these methods:</p>
<ul class="simple">
<li><p>Kernel Density Estimation for crime hotspot detection</p></li>
<li><p>Time series decomposition for feature engineering</p></li>
<li><p>Spatio-temporal crime prediction techniques</p></li>
</ul>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Link to this heading">¶</a></h2>
<p>BSD 3-Clause.</p>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">¶</a></h2>
<p>Contributions are welcome! Please feel free to submit a Pull Request.</p>
<p>Guidelines for contributing:</p>
<ol class="arabic simple">
<li><p>Fork the repository</p></li>
<li><p>Create your feature branch</p></li>
<li><p>Commit your changes</p></li>
<li><p>Push to the branch</p></li>
<li><p>Create a new Pull Request</p></li>
</ol>
</section>
<section id="citation">
<h2>Citation<a class="headerlink" href="#citation" title="Link to this heading">¶</a></h2>
<p>If you use Predspot in your research, please cite us:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Araujo, A., &amp; Cacho, N. (2019). Predspot: Predicting crime hotspots with machine learning.
Master&#39;s thesis, UFRN (Universidade Federal do Rio Grande do Norte), Natal, Brazil.

Araújo, A., Cacho, N., Bezerra, L., Vieira, C., &amp; Borges, J. (2018, June).
Towards a crime hotspot detection framework for patrol planning.
In 2018 IEEE 20th International Conference on High Performance Computing and Communications;
IEEE 16th International Conference on Smart City;
IEEE 4th International Conference on Data Science and Systems (HPCC/SmartCity/DSS) (pp. 1256-1263). IEEE.
</pre></div>
</div>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules/crime_mapping.html">Crime Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/dataset_preparation.html">Dataset Preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/feature_engineering.html">Feature Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/ml_modelling.html">ML Modelling</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/pipeline.html">Pipeline</a></li>
</ul>
</div>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Link to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          <a href="modules/crime_mapping.html" title="Next document">Crime Mapping</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2024, Adelson Araujo.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>